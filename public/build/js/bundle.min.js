(()=>{var e={358:()=>{!function(){let e,t=document.querySelector(".servicios__seleccion"),n=[];if(t){const t=document.querySelector("#idgrupo");async function o(o){const i=new FormData;t?i.append("id",o.target.value):i.append("id",e.value);try{const e="/api/funcionarios",t=await fetch(e,{method:"POST",body:i});!function(e=[]){n=e.map(e=>({funcionario:`${e.id_grado.abreviacion} ${e.nombre} ${e.apellido}`,id:""+e.id})),a()}(await t.json())}catch(e){Swal.fire({icon:"error",title:"Error Conexión",text:"No se tiene conexion con la pagina solicitada"})}a()}t?t.addEventListener("change",o):(e=document.querySelector("#userGrupo"),e&&o())}function a(){const e=document.querySelector("#idFuncionario");if(document.querySelector("#seleccion"),e){e.innerHTML="";let t=document.createElement("OPTION");t.value="",t.textContent="<--Selecione Funcionario->",e.appendChild(t)}n.forEach(t=>{const n=document.createElement("OPTION");n.value=t.id,n.textContent=t.funcionario,e.appendChild(n)})}}()},42:()=>{!function(){const e=document.querySelector("#filtro");if(e){let t=location.href,n=document.querySelector("#usuario"),o=[],a=[],i=0;const c=document.querySelector(".usuarios__registrados"),r=document.querySelector(".usuarios__caption");!async function(){let e;t.includes("/usuarios")&&(e="/api/usuarios"),t.includes("/consulta-adm")&&(e="/api/adm"),t.includes("/consulta-inactivos")&&(e="/api/inactivos");const n=await fetch(e);!function(e=[]){o=e.map(e=>({nombre:`${e.id_grado.abreviacion} ${e.nombre} ${e.apellido}`,id:e.id,email:e.email,disponible:e.disponible,usuario:e.usuario,grupo:e.id_grupo.grupo,estado:e.estado,turno:e.turno}))}(await n.json())}(),e.addEventListener("input",(function(e){const t=e.target.value;if(t.length>5){const e=new RegExp(t,"i");a=o.filter(t=>{if(-1!=t.nombre.toLowerCase().search(e))return t}),c&&(c.innerHTML=""),a.forEach(e=>{const t=document.createElement("TR");t.classList.add("usuarios__listado");const o=document.createElement("TD");o.dataset.label="Nombre",o.textContent=e.nombre;const a=document.createElement("TD");a.dataset.label="Email",a.textContent=e.email;const i=document.createElement("TD");i.dataset.label="Grupo",i.textContent=e.grupo;const r=document.createElement("TD");r.dataset.label="Disponible","1"===e.disponible?r.textContent="SI":r.textContent="NO";const d=document.createElement("TD");d.dataset.label="Perfil","3"===e.usuario&&(d.textContent="Adm. Global"),"2"===e.usuario&&(d.textContent="Adm. Local"),"1"===e.usuario&&(d.textContent="Usuario"),"0"===e.usuario&&(d.textContent="Funcionario");const l=document.createElement("TD");l.dataset.label="Turno",l.textContent=e.turno;const s=document.createElement("TD");s.dataset.label="Acciones";let u="";"3"===n.value||"3"!==e.usuario?(u=document.createElement("A"),u.classList.add("usuarios__modificar"),u.href="/modificar?id="+e.id,u.textContent="Modificar"):(u=document.createElement("P"),u.textContent="---------"),s.appendChild(u),t.appendChild(o),t.appendChild(a),t.appendChild(i),t.appendChild(r),t.appendChild(d),t.appendChild(l),t.appendChild(s),c.appendChild(t)}),i=a.length,r.textContent=`Usuarios Registrados (Cant: ${i})`}0===t.length&&location.reload()}))}}()},199:()=>{!function(){const e=document.querySelector("#id_grupoFuncionario"),t=document.querySelector("#id_funcionario");let n,o="",a=[],i=[];function c(e=[]){a=e.map(e=>({funcionario:`${e.id_grado.abreviacion} ${e.nombre} ${e.apellido}`,id:""+e.id})),function(){t.innerHTML="";let e=document.createElement("OPTION");e.setAttribute("disabled",""),e.setAttribute("selected",""),e.textContent="<-Seleccione un funcionario->",t.appendChild(e);for(let n=0;n<a.length;n++)e=document.createElement("OPTION"),e.textContent=a[n].funcionario,e.value=a[n].id,t.appendChild(e)}()}async function r(e){const t=e.target.value,o=new FormData;o.append("id",t);try{const e="/api/servicios_funcionario",t=await fetch(e,{method:"POST",body:o});!function(e=[]){i=e.map(e=>({servicio:""+e.id_servicio.servicio,fecha:""+e.fecha_servicio,lugar:""+e.lugar,observaciones:""+e.observaciones,id:""+e.id})),n&&(n.innerHTML=""),i.forEach(e=>{const t=document.createElement("TR");t.classList.add("servicios__listado");const o=document.createElement("TD");o.dataset.label="Servicio",o.textContent=e.servicio;const a=document.createElement("TD");a.dataset.label="Fecha",a.textContent=e.fecha;const i=document.createElement("TD");i.dataset.label="Lugar",i.textContent=e.lugar;const c=document.createElement("TD");c.dataset.label="Observaciones",c.textContent=e.observaciones;const r=document.createElement("TD");r.dataset.label="Acciones",r.classList.add("servicios__acciones");const d=document.createElement("FORM");d.setAttribute("method","POST"),d.setAttribute("action","/eliminar_servicio");const l=document.querySelector("INPUT");l.setAttribute("type","hidden"),l.setAttribute("name","id");let s="",u="";(function(e=""){let t=new Date;e=new Date(e);let n=t.getTime()-e.getTime();return Math.round(n/864e5)})(e.fecha)>2?r.textContent="No se puede modificar":(s=document.createElement("A"),s.classList.add("servicios__modificar"),s.href="/modificar_servicio?id="+e.id,s.textContent="Modificar",u=document.createElement("A"),u.classList.add("servicios__eliminar"),u.href="/eliminar_servicio?id="+e.id,u.textContent="Eliminar",r.appendChild(s),r.appendChild(u)),t.appendChild(o),t.appendChild(a),t.appendChild(i),t.appendChild(c),t.appendChild(r),n.appendChild(t)})}(await t.json())}catch(e){Swal.fire({icon:"error",title:"Error Conexión 1"+e,text:"No se tiene conexion con la pagina solicitada"})}}e?(e.addEventListener("change",(async function(e){n=document.querySelector(".servicios__body"),o=e.target.value;const t=new FormData;t.append("id",o),n&&(n.innerHTML="");let a=document.createElement("TR");a.classList.add("servicios__listado");let i=document.createElement("TD");i.setAttribute("colspan",5),i.setAttribute("data-label","---------------"),i.textContent="---------------",a.appendChild(i),n.appendChild(a);try{const e="/api/funcionarios",n=await fetch(e,{method:"POST",body:t});c(await n.json())}catch(e){Swal.fire({icon:"error",title:"Error Conexión",text:"No se tiene conexion con la pagina solicitada"})}})),t.addEventListener("change",r)):t&&(async function(){n=document.querySelector(".servicios__body"),o=document.querySelector("#userGrupo").value;const e=new FormData;e.append("id",o),n&&(n.innerHTML="");let t=document.createElement("TR");t.classList.add("servicios__listado");let a=document.createElement("TD");a.setAttribute("colspan",5),a.setAttribute("data-label","---------------"),a.textContent="---------------",t.appendChild(a),n&&n.appendChild(t);try{const t="/api/funcionarios",n=await fetch(t,{method:"POST",body:e});c(await n.json())}catch(e){Swal.fire({icon:"error",title:"Error Conexión",text:"No se tiene conexion con la pagina solicitada"})}}(),t.addEventListener("change",r))}()},392:()=>{let e=[];const t=document.querySelector(".formaciones__allSeccional");t&&t.addEventListener("click",(async function(t){try{const t="/api/formacion_seccional",n=await fetch(t);e=await n.json(),function(){const t=document.querySelector(".formaciones__generales");t.innerHTML="",e.forEach(e=>{if(e.personal>0){const n=document.createElement("DIV");n.classList.add("formaciones__bloques");const o=document.createElement("DIV");o.classList.add("formaciones__grupos");const a=document.createElement("H2");a.classList.add("formaciones__tituloGrupo"),a.textContent=e.grupo,o.appendChild(a);let i=document.createElement("DIV");i.classList.add("formaciones__general");let c=document.createElement("H3");c.classList.add("formaciones__subtitulos"),c.textContent="PARTE GENERAL",i.appendChild(c);let r=document.createElement("DIV");r.classList.add("formaciones__subBloques");let d=document.createElement("LABEL");d.textContent="Funcionarios";let l=document.createElement("INPUT");l.value=""+e.personal,r.appendChild(d),r.appendChild(l);let s=document.createElement("DIV");s.classList.add("formaciones__subBloques");let u=document.createElement("LABEL");u.textContent="Numerico";let m=document.createElement("INPUT");m.value=e.numerico,s.appendChild(u),s.appendChild(m),i.appendChild(r),i.appendChild(s),n.appendChild(o),n.appendChild(i),i=document.createElement("DIV"),i.classList.add("formaciones__general"),c=document.createElement("H3"),c.classList.add("formaciones__subtitulos"),c.textContent="NOVEDADES",i.appendChild(c),e.novedad.forEach(e=>{r=document.createElement("DIV"),r.classList.add("formaciones__subBloques"),d=document.createElement("LABEL"),d.textContent=e.novedad,l=document.createElement("INPUT"),l.value=`${e.personal} - ${e.numerico} `,r.appendChild(d),r.appendChild(l),i.appendChild(r)}),n.appendChild(i),t.appendChild(n)}})}()}catch(e){Swal.fire({icon:"error",title:"Error Conexión",text:"No se tiene conexion con la pagina solicitada"})}}))},452:()=>{!function(){const e=document.querySelector("#btnHistorico"),t=document.querySelector("#selectgrupo"),n=document.querySelector("#selectservicio"),o=document.querySelector("#ini"),a=document.querySelector("#fin"),i=document.querySelector("#usuario");let c,r,d=[];if(e){function l(e=[]){d=e.map(e=>({funcionario:""+e.funcionario,fecha:""+e.fecha,lugar:""+e.lugar,observaciones:""+e.observaciones,semana:""+e.semana})),function(){const e=document.querySelector(".servicios__body");e&&(e.innerHTML=""),d.forEach(t=>{const n=document.createElement("TR");n.classList.add("servicios__listado");const o=document.createElement("TD");o.dataset.label="Funcionario",o.textContent=t.funcionario;const a=document.createElement("TD");a.dataset.label="Fecha",a.textContent=t.fecha;const i=document.createElement("TD");i.dataset.label="Semana",i.textContent=t.semana;const c=document.createElement("TD");c.dataset.label="Lugar",c.textContent=t.lugar;const r=document.createElement("TD");r.dataset.label="Observaciones",r.textContent=t.observaciones,n.appendChild(o),n.appendChild(a),n.appendChild(i),n.appendChild(c),n.appendChild(r),e.appendChild(n)})}()}e.addEventListener("click",(function(e){"3"===i.value?t.value&&n.value&&o.value&&a.value?async function(){const e=new FormData;e.append("ini",o.value),e.append("fin",a.value),e.append("grupoId",r),e.append("servicioId",c);try{const t="/api/servicios_historico",n=await fetch(t,{method:"POST",body:e});l(await n.json())}catch(e){Swal.fire({icon:"error",title:"Error Conexión",text:"No se tiene conexion con la pagina solicitada"})}}():Swal.fire({icon:"error",title:"Error Selección",text:"Seleccione los valores de consulta"}):n.value&&o.value&&a.value?async function(){let e=document.querySelector("#userGrupo").value;const t=new FormData;t.append("ini",o.value),t.append("fin",a.value),t.append("localId",e),t.append("servicioId",c);try{const e="/api/servicios_historico",n=await fetch(e,{method:"POST",body:t});l(await n.json())}catch(e){Swal.fire({icon:"error",title:"Error Conexión",text:"No se tiene conexion con la pagina solicitada"})}}():Swal.fire({icon:"error",title:"Error Selección",text:"Seleccione los valores de consulta"})})),t&&t.addEventListener("change",(function(e){r=e.target.value})),n.addEventListener("change",(function(){c=n.value}))}}()},284:()=>{const e=document.querySelector(".hamburger"),t=document.querySelector(".formaciones__navegacion"),n=document.querySelector(".formaciones__grupo"),o=document.querySelector(".formaciones__opc"),a=document.querySelector("#btnGeneral"),i=document.querySelector("#btnTurnoA"),c=document.querySelector("#btnTurnoB"),r=document.querySelector(".formaciones__sidebar"),d=document.querySelector("#estado");window.innerWidth;let l,s,u,m,p,f,v=!0;async function h(e=""){const t=new FormData;t.append("id",e);try{const e="/api/formacion_general",n=await fetch(e,{method:"POST",body:t});p=await n.json(),await C(),_()}catch(e){Swal.fire({icon:"error",title:"Error Conexión",text:"No se tiene conexion con la pagina solicitada"})}}async function E(e="",t=""){const n=new FormData;n.append("id",e),n.append("turno",t);try{const e="/api/formacion_turnos",t=await fetch(e,{method:"POST",body:n});p=await t.json(),await C(),_()}catch(e){Swal.fire({icon:"error",title:"Error Conexión",text:"No se tiene conexion con la pagina solicitada"})}}async function C(){try{const e="/api/novedades",t=await fetch(e);f=await t.json()}catch(e){Swal.fire({icon:"error",title:"Error Conexión",text:"No se tiene conexion con la pagina solicitada"})}}function _(){r&&(r.innerHTML="");const e=document.createElement("DIV");e.classList.add("formaciones__funcionario");const t=document.createElement("H2");t.classList.add("formaciones__subtitulo"),t.textContent="Personal",e.appendChild(t),p.forEach(t=>{const n=document.createElement("DIV");n.classList.add("formaciones__registro");const o=document.createElement("P");o.classList.add("formaciones__nombre"),o.textContent=`${t.grado} ${t.nombre}`;const a=document.createElement("P");a.classList.add("formaciones__novedad"),a.setAttribute("value",t.id_funcionario),a.textContent=""+t.novedad;const i=document.createElement("INPUT");i.setAttribute("type","hidden"),i.setAttribute("id","id_funcionario"),i.setAttribute("value",t.id_funcionario);const c=document.createElement("INPUT");c.setAttribute("type","hidden"),c.setAttribute("id","id_novedad"),c.setAttribute("value",t.id_novedad),n.appendChild(o),n.appendChild(a),n.appendChild(i),n.appendChild(c),e.appendChild(n)});const n=document.createElement("DIV");n.classList.add("formaciones__novedades");const o=document.createElement("H2");o.classList.add("formaciones__subtitulo"),"General"===u&&(o.textContent="Novedades Grupo"),"TurnoA"===u&&(o.textContent="Novedades Turno A"),"TurnoB"===u&&(o.textContent="Novedades Turno B"),n.appendChild(o);let a=p.length;const i=document.createElement("P");i.textContent="Total Personal: ";const c=document.createElement("SPAN");c.textContent=a,i.appendChild(c),n.appendChild(i);const d=document.createElement("P");d.textContent="Parte Numerico: ";const l=document.createElement("SPAN");let s=p.filter(e=>"Base"===e.categoria).length,m=p.filter(e=>"Ejecutivo"===e.categoria).length,v=p.filter(e=>"Directivo"===e.categoria).length;l.textContent=`${v}-${m}-${s}`,d.appendChild(l),n.appendChild(d),f.forEach(e=>{const t=document.createElement("DIV");t.classList.add("formaciones__bloque");const o=document.createElement("LABEL");o.classList.add("formaciones__label"),o.textContent=e.novedad;const a=document.createElement("INPUT");a.classList.add("formaciones__cant"),a.setAttribute("type","text");const i=document.createElement("INPUT");i.classList.add("formaciones__numerico"),i.setAttribute("type","text"),s=p.filter(t=>"Base"===t.categoria&&t.novedad===e.novedad).length,m=p.filter(t=>"Ejecutivo"===t.categoria&&t.novedad===e.novedad).length,v=p.filter(t=>"Directivo"===t.categoria&&t.novedad===e.novedad).length,a.value=p.filter(t=>t.novedad===e.novedad).length,i.value=`${v}-${m}-${s}`,t.appendChild(o),t.appendChild(a),t.appendChild(i),n.appendChild(t)}),r.appendChild(e),r.appendChild(n),document.querySelectorAll(".formaciones__novedad").forEach(e=>{e.addEventListener("click",e=>{b(e.target.attributes.value.value)})})}async function g(e,t){const n=new FormData;n.append("id",e),n.append("opc",t),"1"===t&&(u="General"),"2"===t&&(u="TurnoA"),"3"===t&&(u="TurnoB");try{const e="/modificarNovedades",t=await fetch(e,{method:"POST",body:n});p=await t.json(),await C(),_()}catch(e){Swal.fire({icon:"error",title:"Error Conexión",text:"No se tiene conexion con la pagina solicitada"})}}document.querySelector(".formaciones__subtitulo"),e&&(e.addEventListener("click",(function(){e.classList.toggle("is-active"),t.classList.toggle("formaciones__mostrar"),o.classList.toggle("formaciones__mostrar"),n&&n.classList.toggle("formaciones__mostrar")})),window.addEventListener("resize",(function(){window.innerWidth>375&&(t.classList.remove("formaciones__mostrar"),o.classList.remove("formaciones__mostrar"),n&&n.classList.remove("formaciones__mostrar"),e.classList.remove("is-active"))}))),a&&a.addEventListener("click",(function(){v=!0,l=!1,s=!1,u="General",m=document.querySelector("#id_grupoSeguimiento"),m?m.value?h(m.value):Swal.fire({icon:"error",title:"Error Selección",text:"Selecione un grupo, por favor..."}):(m=document.querySelector("#userGrupo"),h(m.value))})),i&&i.addEventListener("click",(function(){v=!1,l=!0,s=!1,u="TurnoA",m=document.querySelector("#id_grupoSeguimiento"),m?m.value?E(m.value,"A"):Swal.fire({icon:"error",title:"Error Selección",text:"Selecione un grupo, por favor..."}):(m=document.querySelector("#userGrupo"),E(m.value,"A"))})),c&&c.addEventListener("click",(function(){v=!1,l=!1,s=!0,u="TurnoB",m=document.querySelector("#id_grupoSeguimiento"),m?m.value?E(m.value,"B"):Swal.fire({icon:"error",title:"Error Selección",text:"Selecione un grupo, por favor..."}):(m=document.querySelector("#userGrupo"),E(m.value,"B"))})),d&&d.addEventListener("change",(function(e){m=document.querySelector("#id_grupoSeguimiento"),m?m.value?g(m.value,e.target.value):(document.getElementById("estado").selectedIndex=0,Swal.fire({icon:"error",title:"Error Selección",text:"Selecione un grupo, por favor..."})):(m=document.querySelector("#userGrupo"),g(m.value,e.target.value))}));const S=document.querySelectorAll(".formaciones__novedad");async function b(e){const t=new FormData;t.append("id",e);try{const e="/consultarFuncionario",n=await fetch(e,{method:"POST",body:t});p=await n.json(),await C(),function(){const e=document.querySelector(".modal");if(e){e.classList.add("modal--show");let t=document.querySelector("#funcionario"),n=document.querySelector("#situacion");n.innerHTML="";let o=document.querySelector("#observacion");t.value=`${p[0].grado} ${p[0].nombre}`,t.setAttribute("data-id-funcionario",p[0].id_funcionario),f.forEach(e=>{const t=document.createElement("OPTION");t.textContent=e.novedad,t.value=e.id,p[0].id_novedad===e.id&&t.setAttribute("selected",""),n.appendChild(t)}),o.value=p[0].observacion}}()}catch(e){Swal.fire({icon:"error",title:"Error Conexión",text:"No se ha podido generar la consulta"})}}S&&S.forEach(e=>{e.addEventListener("click",e=>{b(e.target.attributes.value.value)})});const y=document.querySelector(".modal__cancelar");y&&y.addEventListener("click",e=>{e.preventDefault();const t=document.querySelector(".modal--show");t&&t.classList.remove("modal--show")});const x=document.querySelector(".modal__actualizar");if(x){let e,t,n,o=document.querySelector("#funcionario"),a=document.querySelector("#situacion"),i=document.querySelector("#observacion");x.addEventListener("click",()=>{e=o.getAttribute("data-id-funcionario"),t=a.options[a.selectedIndex].value,n=i.value,async function(e,t,n){const o=new FormData;o.append("idUser",e),o.append("idNov",t),o.append("obs",n);try{const e="/modificarNovedad",t=await fetch(e,{method:"POST",body:o});p=await t.json();const n=document.querySelector(".modal--show");n&&n.classList.remove("modal--show"),p&&Swal.fire({position:"top-end",icon:"success",title:"Actualización Exitosa",showConfirmButton:!1,timer:1500});let a=new Event("click");if(v)return void document.querySelector("#btnGeneral").dispatchEvent(a);if(l)return void document.querySelector("#btnTurnoA").dispatchEvent(a);if(s)document.querySelector("#btnTurnoB").dispatchEvent(a)}catch(e){Swal.fire({icon:"error",title:"Error Conexión",text:"No se ha podido generar la actualización."})}}(e,t,n)})}},71:()=>{!function(){const e=document.querySelector("#id_grupoSeguimiento"),t=document.querySelectorAll('input[name="nivel"]'),n=document.querySelector("#seguimiento"),o=document.querySelector("#userGrupo");let a,i;if(n){let d=[],l=[];function c(e){i=e.target.value}function r(e=""){let t=new Date;e=new Date(e);let n=t.getTime()-e.getTime();return Math.round(n/864e5)}n.addEventListener("click",()=>{!async function(n){let c;c="/api/servicios";const s=await fetch("/api/servicios");!function(n=[]){d=n.map(e=>({funcionario:""+e.funcionario,servicio:""+e.servicio,fecha:""+e.fecha,dias:r(e.fecha),lugar:(""+e.lugar).trim(),observaciones:""+e.observaciones,grupo:""+e.id_grupo,categoria:""+e.categoria})),function(n){i||(i="Todos"),e&&t?a&&i?l=n.filter(e=>e.grupo===a&&e.categoria===i||e.grupo===a&&"Todos"===i?e:void 0):Swal.fire({icon:"error",title:"Error Selección",text:"No ha seleccionado un grupo"}):i?l=n.filter(e=>e.grupo===o.value&&e.categoria===i||e.grupo===o.value&&"Todos"===i?e:void 0):Swal.fire({icon:"error",title:"Error Selección",text:"No ha seleccionado una categoria"}),function(){const e=document.querySelector(".servicios__body");e&&(e.innerHTML=""),l.forEach(t=>{const n=document.createElement("TR");n.classList.add("usuarios__listado");const o=document.createElement("TD");o.dataset.label="Funcionario",o.textContent=t.funcionario;const a=document.createElement("TD");a.dataset.label="Servicio",a.textContent=t.servicio;const i=document.createElement("TD");i.dataset.label="Fecha",i.textContent=t.fecha;const c=document.createElement("TD");c.dataset.label="Dias",c.textContent=t.dias;const r=document.createElement("TD");r.dataset.label="Lugar",r.textContent=t.lugar;const d=document.createElement("TD");d.dataset.label="Observaciones",d.textContent=t.observaciones,n.appendChild(o),n.appendChild(a),n.appendChild(i),n.appendChild(c),n.appendChild(r),n.appendChild(d),e.appendChild(n)})}()}(d)}(await s.json())}()}),e&&e.addEventListener("change",(function(e){a=e.target.value})),t.forEach(e=>{e.addEventListener("change",c)})}}()}},t={};function n(o){var a=t[o];if(void 0!==a)return a.exports;var i=t[o]={exports:{}};return e[o](i,i.exports,n),i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";n(42),n(71),n(199),n(452),n(358),n(284),n(392)})()})();
//# sourceMappingURL=bundle.js.map
